\usepackage{tbil-la}
\usepackage{ifthen}

\usetheme[hideothersubsections]{Hannover}
\usecolortheme{rose}
%Center frame titles
\setbeamertemplate{frametitle}[default][center]

\title{Calculus II}
%\author{Clontz \& Lewis}

\resetcounteronoverlays{SectionCounter}
\resetcounteronoverlays{ActivityCounter}
\resetcounteronoverlays{SubactivityCounter}

\newcounter{FirstActivity}
\newcounter{LastActivity}

\NewEnviron{module}[2]{
  \renewcommand{\moduleLetter}{#1}
  \section{Module \moduleLetter{}}
  \setcounter{SectionCounter}{0}
  \setcounter{ActivityCounter}{0}
	\setcounter{FirstActivity}{0}
	\setcounter{LastActivity}{1000}
  \begin{frame}% see https://tex.stackexchange.com/a/178803
    \vfill
    \centering
    \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
      \usebeamerfont{title}
      Module \moduleLetter{}: #2
    \end{beamercolorbox}
    \vfill
  \end{frame}
  \BODY
}

\newcommand{\moduleQuestion}[1]{
  \begin{frame}
    \vfill
    \textbf{\Large #1}
    \vfill
  \end{frame}
}

\NewEnviron{moduleStandards}{
  \begin{frame}
    At the end of this module, students will be able to...
    \begin{enumerate}[\bf \moduleLetter{}1.]
      \BODY
    \end{enumerate}
  \end{frame}
}
\newcommand{\standard}[3]{
  \item \textbf{#1.}
        ...#3
}
\newcommand{\listOfStandards}[1]{\textbf{#1}}

\NewEnviron{readinessAssuranceOutcomes}{
  \begin{frame}
    \textbf{Readiness Assurance Outcomes}

    Before beginning this module, each student should be able to...
    \begin{itemize}
      \BODY
    \end{itemize}
  \end{frame}
}

\NewEnviron{readinessAssuranceResources}{
  \begin{frame}
    The following resources will help you prepare for this module.
    \begin{itemize}
      \BODY
    \end{itemize}
  \end{frame}
}


\NewEnviron{readinessAssuranceTest}{}


\NewEnviron{readinessAssuranceTestChoices}{}


\newcommand{\newModuleSection}{%
  \stepcounter{SectionCounter}
  \subsection{Section \theSectionCounter}%
  \begin{frame}% see https://tex.stackexchange.com/a/178803
    \vfill
    \centering
    \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
      \usebeamerfont{title}
      Module \moduleLetter{} Section \theSectionCounter
    \end{beamercolorbox}
    \vfill
  \end{frame}
}

%Legacy Environment
\NewEnviron{applicationActivities}{
  \BODY
}



\newcommand{\includeActivities}[3]{%
\setcounter{FirstActivity}{#1}
\setcounter{LastActivity}{#2}
#3
\setcounter{ActivityCounter}{0}
}

\newcommand{\activityCheck}[1]{%
\ifnum \value{ActivityCounter} < \value{FirstActivity}
\else
	\ifnum \value{ActivityCounter} > \value{LastActivity}
	\else
		#1
	\fi
\fi
}



\NewEnviron{activity}[1]{
  \stepcounter{ActivityCounter}
	\activityCheck{%
		\setcounter{SubactivityCounter}{0}
		\begin{frame}
		\textbf{Activity \moduleLetter{}.\theActivityCounter} \textit{(\(\sim\)#1 min)}
		\BODY
		\end{frame}
	}
}

\NewEnviron{remark}{
  \stepcounter{ActivityCounter}
  \activityCheck{%
	  \begin{frame}
	  \textbf{Remark \moduleLetter{}.\theActivityCounter}

	  \BODY
	  \end{frame}
  }
}

\RenewEnviron{fact}{ % has to be renewed because beamer defines this by default
  \stepcounter{ActivityCounter}
  \activityCheck{%
	  \begin{frame}
	  \textbf{Fact \moduleLetter{}.\theActivityCounter}

		\BODY
	  \end{frame}
	}
}

\NewEnviron{observation}{
  \stepcounter{ActivityCounter}
  \activityCheck{%
	  \begin{frame}
	  \textbf{Observation \moduleLetter{}.\theActivityCounter}

	  \BODY
	  \end{frame}
  }
}

\RenewEnviron{example}{ % has to be renewed because beamer defines this by default
  \stepcounter{ActivityCounter}
  \activityCheck{%
	  \begin{frame}
	  \textbf{Example \moduleLetter{}.\theActivityCounter}
	
	  \BODY
	  \end{frame}
  }
}

\RenewEnviron{definition}{ % has to be renewed because beamer defines this by default
  \stepcounter{ActivityCounter}
  \activityCheck{%
	  \begin{frame}
	  \textbf{Definition \moduleLetter{}.\theActivityCounter}

	  \BODY
	  \end{frame}
   }
}



\NewEnviron{subactivity}{
  \stepcounter{SubactivityCounter}

  \pause
  \textit{Part \theSubactivityCounter:}
  \BODY
}

\NewEnviron{goals}{
  \begin{frame}
  \textbf{Today's goals:}
  \BODY
  \end{frame}
}

\NewEnviron{summary}{
  \begin{frame}
  \textbf{Summary:}
  \BODY
  \end{frame}
}

\NewEnviron{instructorNote}{}

\newcommand{\smallSlideText}{\small}
