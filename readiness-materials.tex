\documentclass{article}

\usepackage{xstring}

\let\Xfile\empty
\StrBefore*{\jobname}{readiness}[\Xfile]
\StrBetween[1,2]{\Xfile}{/}{/}[\Xfile]
\edef\XXfile{rat/\Xfile -RAT.tex}

\usepackage[active,generate=\XXfile,extract-env={readinessAssuranceTest}]{extract}

\extractline* \usepackage{tbil-la,course-notes}

\begin{extract}
\usepackage{xstring}
%\let\Xfile\empty
\StrBefore*{\jobname}{-rat}[\Xfile]
\renewcommand{\header}{\expandafter\MakeUppercase\expandafter\Xfile}
\end{extract}

\renewcommand{\header}{\Xfile}
\begin{document}

\input{\jobname.tex}


\end{document}
